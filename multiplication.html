<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Subtraction Practice</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 20px; background: #fffaf0; }
    h1 { color: #2c3e50; }
    select, input, button { margin: 10px; padding: 8px; font-size: 16px; }
    #question { font-size: 22px; margin: 20px 0; }
    #feedback { font-size: 20px; font-weight: bold; }
    .correct { color: green; }
    .wrong { color: red; }
    .score { font-size: 18px; margin-top: 15px; }
    .final { font-size: 22px; color: #8e44ad; margin-top: 20px; font-weight: bold; }
    .back-btn { margin-top: 20px; background: #e67e22; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 10px; }
    .back-btn:hover { background: #d35400; }
  </style>
</head>
<body>

  <h1>‚úñÔ∏è Multiplication Practice</h1>
  <div id="question">Click "Next Question" to start</div>

  <input type="number" id="answer" placeholder="Your answer" disabled>
  <button onclick="checkAnswer()" disabled id="checkBtn">Check</button>
  <button onclick="nextQuestion()">Next Question</button>

  <div id="feedback"></div>
  <div class="score" id="score"></div>
  <div class="final" id="finalScore"></div>
  <script>
    let num1, num2, correctAnswer;
    let rangeMin = 1, rangeMax = 10;
    let allowedMultipliers = [1, 10];
    let questionCount = 0, correctCount = 0, totalQuestions = 5;

    function setLevel() {
      let level = parseInt(document.getElementById('level').value);
      switch (level) {
        case 1:
          rangeMin = 1; rangeMax = 10;
          allowedMultipliers = [1, 10];
          break;
        case 2:
          rangeMin = 1; rangeMax = 20;
          allowedMultipliers = [1, 10, 100];
          break;
        case 3:
          rangeMin = 1; rangeMax = 50;
          allowedMultipliers = [1, 10, 100, 3, 5];
          break;
        case 4:
          rangeMin = 1; rangeMax = 100;
          allowedMultipliers = [1, 10, 100, 3, 5, 4, 6];
          break;
        case 5:
          rangeMin = 1; rangeMax = 500;
          allowedMultipliers = [1, 10, 100, 3, 5, 4, 6, 7, 8];
          break;
        case 6:
          rangeMin = 1; rangeMax = 1000;
          allowedMultipliers = [1, 10, 100, 3, 5, 4, 6, 7, 8, 9];
          break;
        case 7:
          rangeMin = 1; rangeMax = 5000;
          allowedMultipliers = [1, 10, 100, 3, 5, 4, 6, 7, 8, 9, 11];
          break;
        case 8:
          rangeMin = 1; rangeMax = 10000;
          allowedMultipliers = [1, 10, 100, 3, 5, 4, 6, 7, 8, 9, 11, 12];
          break;
      }
      resetQuiz();
      nextQuestion();
    }

    function resetQuiz() {
      questionCount = 0;
      correctCount = 0;
      document.getElementById('score').innerText = "";
      document.getElementById('finalScore').innerText = "";
    }

    function nextQuestion() {
      if (questionCount >= totalQuestions) {
        document.getElementById('finalScore').innerText = 
          `üéâ Quiz Finished! You got ${correctCount} out of ${totalQuestions} correct.`;
        document.getElementById('answer').disabled = true;
        document.getElementById('checkBtn').disabled = true;
        return;
      }

      num1 = Math.floor(Math.random() * (rangeMax - rangeMin + 1)) + rangeMin;
      num2 = allowedMultipliers[Math.floor(Math.random() * allowedMultipliers.length)];

      correctAnswer = num1 * num2;

      document.getElementById('question').innerText = `Q${questionCount + 1}: What is ${num1} √ó ${num2}?`;
      document.getElementById('answer').value = "";
      document.getElementById('feedback').innerText = "";
      document.getElementById('answer').disabled = false;
      document.getElementById('checkBtn').disabled = false;
    }

    function checkAnswer() {
      let userAnswer = parseInt(document.getElementById('answer').value);
      let feedback = document.getElementById('feedback');

      if (userAnswer === correctAnswer) {
        feedback.innerText = "‚úÖ Correct!";
        feedback.className = "correct";
        correctCount++;
      } else {
        feedback.innerText = `‚ùå Wrong. Correct answer is ${correctAnswer}`;
        feedback.className = "wrong";
      }

      questionCount++;
      document.getElementById('score').innerText = `Score: ${correctCount}/${questionCount}`;
      document.getElementById('answer').disabled = true;
      document.getElementById('checkBtn').disabled = true;
    }
  </script>
</body>
</html>
